{"_id":"@foliojs-fork/fontkit","_rev":"3-96fffb0b71aed7de789a0d86b9906b94","name":"@foliojs-fork/fontkit","dist-tags":{"latest":"1.9.2"},"versions":{"1.9.0":{"name":"@foliojs-fork/fontkit","version":"1.9.0","description":"An advanced font engine for Node and the browser","keywords":["opentype","font","typography","subset","emoji","glyph","layout"],"scripts":{"test":"mocha","prepublish":"run-s clean trie:** rollup","trie:data":"babel-node src/opentype/shapers/generate-data.js","trie:use":"babel-node src/opentype/shapers/gen-use.js","trie:indic":"babel-node src/opentype/shapers/gen-indic.js","trie:copy":"shx cp src/opentype/shapers/*.trie ./","rollup":"rollup -c","clean":"shx rm -f index.js base.js data.trie indic.trie use.trie src/opentype/shapers/data.trie src/opentype/shapers/use.trie src/opentype/shapers/use.json src/opentype/shapers/indic.trie src/opentype/shapers/indic.json","coverage":"cross-env BABEL_ENV=cover nyc mocha"},"main":"index.js","jsnext:main":"src/index.js","author":{"name":"Devon Govett","email":"devongovett@gmail.com"},"license":"MIT","repository":{"type":"git","url":"git://github.com/foliojs-fork/fontkit.git"},"dependencies":{"brfs":"^2.0.0","brotli":"^1.2.0","browserify-optional":"^1.0.1","clone":"^1.0.4","deep-equal":"^1.0.0","dfa":"^1.2.0","@foliojs-fork/restructure":"^2.0.1","tiny-inflate":"^1.0.2","unicode-properties":"^1.2.2","unicode-trie":"^2.0.0"},"devDependencies":{"@babel/cli":"^7.0.0","@babel/core":"^7.0.0","@babel/node":"^7.0.0","@babel/plugin-proposal-class-properties":"^7.0.0","@babel/plugin-proposal-decorators":"^7.0.0","@babel/preset-env":"^7.0.0","@babel/register":"^7.0.0","babel-plugin-istanbul":"^5.1.1","codepoints":"^1.2.0","concat-stream":"^1.6.2","cross-env":"^5.0.1","esdoc":"^0.4.8","esdoc-es7-plugin":"0.0.3","iconv-lite":"^0.4.24","mocha":"^2.0.1","npm-run-all":"^4.0.2","nyc":"^10.3.2","rollup":"^1.5.0","rollup-plugin-babel":"^4.0.1","rollup-plugin-json":"^3.1.0","rollup-plugin-local-resolve":"^1.0.7","shx":"^0.2.2"},"browserify":{"transform":["brfs","browserify-optional"]},"gitHead":"eb4bb33a87601ea33e217ee7d4e48b73d56d32fb","bugs":{"url":"https://github.com/foliojs-fork/fontkit/issues"},"homepage":"https://github.com/foliojs-fork/fontkit#readme","_id":"@foliojs-fork/fontkit@1.9.0","_nodeVersion":"14.16.0","_npmVersion":"6.14.11","dist":{"integrity":"sha512-Akg3xZ/cbM9bHeifsrtPx+OmNomuR5zpEsnrvgA+r7O3KlnJc6lLaZovNFc9QojbzNOJWcquraMQZuS4HwW7WQ==","shasum":"cd774ceb39c685742058be6bac55199ff767a79c","tarball":"https://registry.npmjs.org/@foliojs-fork/fontkit/-/fontkit-1.9.0.tgz","fileCount":132,"unpackedSize":3430904,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg3ZcQCRA9TVsSAnZWagAAob4P+wbTiRbKqLqYWSwY6Fmb\nPgxmpTdhwrRxpHqXoHk9htCgk6+wEAKUc7OEy6yT7yLc+XKp+bP3M63Ht2QP\noVC7wtjVGzELn9KUIDALPLekCoEHq9DTzMQXroKIoQ7JLU//izOiLLvqFnV9\nbE93FGcxWm1ihT+ZAqjROSokZZDKHkAI6CF3+o6DnyJsXo6ZB5EkHxY+YY1H\n444Hvg6KUGFW0IBiy8p9k6iHto4MYjcUHbb0fxBfUc19qArGjPHp+dPSvnPx\nwXixMKKZYYABrhG8BlfK6V6SvLIiXSRCwG+F6p6wwjvt0mXBVkh9udgoLmoE\nxj/yUmzhpRdaCts7rM7ek2lIf3UyrblHr60ETGoH2Qo6V8bc9ngSBWSKeenf\nBGFywzHajFntK0jer0z9Af7rZEnKWOTRBD/HcFgyLZLKng79l2k+Lr/DPPBj\nGbFptd6EWQIkqdxMfN0+7zY2v5hmGWZizwv8rGzvNrvjuuc2pxjWnzYqaWCc\nzYnvT8x+a3N2yf1CObHLiHcs65riIqJCUvMlS4Dif0cznMyvVBRKq6vcIer0\nTpRcsPx78oxk5xERq4gaMcGD/xxTF8ZuHTAf7RyBzJsoE5kdSgY3q3oUZEEv\nB2kfd2xiGGctUVW1DGOt1mpvODz5jmNuEAKQD00ghAD48tyci2K9Oj9j/mRI\n7k8Y\r\n=Nlgx\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDwHmLd+CxgKuuNiEYRyvRUcbVMOuWtks5z65wxgapQ4wIhAMdb2bopJY5QQoyYz+Vy/KyJYK/AqrqJYFTrIAATELtb"}]},"_npmUser":{"name":"liborm85","email":"liborm85@gmail.com"},"directories":{},"maintainers":[{"name":"liborm85","email":"liborm85@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/fontkit_1.9.0_1625134864194_0.6621139020176916"},"_hasShrinkwrap":false},"1.9.1":{"name":"@foliojs-fork/fontkit","version":"1.9.1","description":"An advanced font engine for Node and the browser","keywords":["opentype","font","typography","subset","emoji","glyph","layout"],"scripts":{"test":"mocha","prepublish":"run-s clean trie:** rollup","trie:data":"babel-node src/opentype/shapers/generate-data.js","trie:use":"babel-node src/opentype/shapers/gen-use.js","trie:indic":"babel-node src/opentype/shapers/gen-indic.js","trie:copy":"shx cp src/opentype/shapers/*.trie ./","rollup":"rollup -c","clean":"shx rm -f index.js base.js data.trie indic.trie use.trie src/opentype/shapers/data.trie src/opentype/shapers/use.trie src/opentype/shapers/use.json src/opentype/shapers/indic.trie src/opentype/shapers/indic.json","coverage":"cross-env BABEL_ENV=cover nyc mocha"},"main":"index.js","jsnext:main":"src/index.js","author":{"name":"Devon Govett","email":"devongovett@gmail.com"},"license":"MIT","repository":{"type":"git","url":"git://github.com/foliojs-fork/fontkit.git"},"dependencies":{"brfs":"^2.0.0","brotli":"^1.2.0","browserify-optional":"^1.0.1","clone":"^1.0.4","deep-equal":"^1.0.0","dfa":"^1.2.0","@foliojs-fork/restructure":"^2.0.2","tiny-inflate":"^1.0.2","unicode-properties":"^1.2.2","unicode-trie":"^2.0.0"},"devDependencies":{"@babel/cli":"^7.0.0","@babel/core":"^7.0.0","@babel/node":"^7.0.0","@babel/plugin-proposal-class-properties":"^7.0.0","@babel/plugin-proposal-decorators":"^7.0.0","@babel/preset-env":"^7.0.0","@babel/register":"^7.0.0","babel-plugin-istanbul":"^5.1.1","codepoints":"^1.2.0","concat-stream":"^1.6.2","cross-env":"^5.0.1","esdoc":"^0.4.8","esdoc-es7-plugin":"0.0.3","iconv-lite":"^0.4.24","mocha":"^2.0.1","npm-run-all":"^4.0.2","nyc":"^10.3.2","rollup":"^1.5.0","rollup-plugin-babel":"^4.0.1","rollup-plugin-json":"^3.1.0","rollup-plugin-local-resolve":"^1.0.7","shx":"^0.2.2"},"browserify":{"transform":["brfs","browserify-optional"]},"gitHead":"04065ec5aaa86ac0fec994ee1e91f444321fa4c5","bugs":{"url":"https://github.com/foliojs-fork/fontkit/issues"},"homepage":"https://github.com/foliojs-fork/fontkit#readme","_id":"@foliojs-fork/fontkit@1.9.1","_nodeVersion":"14.16.0","_npmVersion":"6.14.11","dist":{"integrity":"sha512-U589voc2/ROnvx1CyH9aNzOQWJp127JGU1QAylXGQ7LoEAF6hMmahZLQ4eqAcgHUw+uyW4PjtCItq9qudPkK3A==","shasum":"8124649168eb5273f580f66697a139fb5041296b","tarball":"https://registry.npmjs.org/@foliojs-fork/fontkit/-/fontkit-1.9.1.tgz","fileCount":132,"unpackedSize":3432371,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJhB4KfCRA9TVsSAnZWagAAoqgQAJS00tot1eRWb12FUTbu\nLgmIHWP0Bh0hHolyTIQ3phGruHoRIJcIQ3Hk3TF/mLzqjKH++dq0MAzagY3F\nVUCXvilaPTuf2oIfHFsQvpz35w0b+eoyQb0qoIWX5tV3m50BRdgOPmoYwEp3\nKe+DXZ6ruHG6hvx+uVVaqhYM+H5rmTDEhBjlpkgVimDIDONniFNBUWkSPwKJ\nvq3tLJNxL+t5A4Z0TnmHVMCegZQ0J4aZi8yIXaEdOV9k/gHsmV3LKa3alQx/\ntFRbczdAM6YtCOvUlnAHcbFSwWAQgF1DrZO5m8SIOHb+9HnBjncY03xlFlOy\n6MYkMthRZWOK5tHIK5nNQXVU6qquezYiYfoAnslHzilalJxvTAHupGCx1v7a\nKL0q9a7TPnZ6BDFLQ007E6peT35DHpEIupT+Uf5G4lG3cE78NKwHYVx8/RT1\nICtDI+VAW1yQgDnb4JGFJavLEMNksEVuycgxKhCGwE/fquZ5qJnAzUb7AfiL\nfOFKpwYo1GGvmT//jssT6bjC5cIHay25NbwoyvVi8KxolejA2jxVS0xzSy6P\n44uyOY8jHWiU3kj7KRPNmM0777RLXzwKysNuXRcCPLRjY5utrOmCXRsdbdRn\nuUZq3QxfrrE+pHSfukVuYyimw1cKu0JMKHjWOFh2XPVJfjw83sWBe0kIbRS6\noXyL\r\n=KyTU\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDa7evAaV7AGDDvK2n+YS0jGcxATMqVoT11kq3V9NImEwIhAIm/MVpEFQ6otoqhaDyZpoTCx8Vokg8UZmxaghVNeSO0"}]},"_npmUser":{"name":"liborm85","email":"liborm85@gmail.com"},"directories":{},"maintainers":[{"name":"liborm85","email":"liborm85@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/fontkit_1.9.1_1627882142966_0.6010038759350127"},"_hasShrinkwrap":false},"1.9.2":{"name":"@foliojs-fork/fontkit","version":"1.9.2","description":"An advanced font engine for Node and the browser","keywords":["opentype","font","typography","subset","emoji","glyph","layout"],"scripts":{"test":"mocha","prepublish":"run-s clean trie:** rollup","trie:data":"babel-node src/opentype/shapers/generate-data.js","trie:use":"babel-node src/opentype/shapers/gen-use.js","trie:indic":"babel-node src/opentype/shapers/gen-indic.js","trie:copy":"shx cp src/opentype/shapers/*.trie ./","rollup":"rollup -c","clean":"shx rm -f index.js base.js data.trie indic.trie use.trie src/opentype/shapers/data.trie src/opentype/shapers/use.trie src/opentype/shapers/use.json src/opentype/shapers/indic.trie src/opentype/shapers/indic.json","coverage":"cross-env BABEL_ENV=cover nyc mocha"},"main":"index.js","jsnext:main":"src/index.js","author":{"name":"Devon Govett","email":"devongovett@gmail.com"},"license":"MIT","repository":{"type":"git","url":"git://github.com/foliojs-fork/fontkit.git"},"dependencies":{"brotli":"^1.2.0","clone":"^1.0.4","deep-equal":"^1.0.0","dfa":"^1.2.0","@foliojs-fork/restructure":"^2.0.2","tiny-inflate":"^1.0.2","unicode-properties":"^1.2.2","unicode-trie":"^2.0.0"},"devDependencies":{"@babel/cli":"^7.0.0","@babel/core":"^7.0.0","@babel/node":"^7.0.0","@babel/plugin-proposal-class-properties":"^7.0.0","@babel/plugin-proposal-decorators":"^7.0.0","@babel/preset-env":"^7.0.0","@babel/register":"^7.0.0","babel-plugin-istanbul":"^5.1.1","brfs":"^2.0.0","browserify-optional":"^1.0.1","codepoints":"^1.2.0","concat-stream":"^1.6.2","cross-env":"^5.0.1","esdoc":"^0.4.8","esdoc-es7-plugin":"0.0.3","iconv-lite":"^0.4.24","mocha":"^2.0.1","npm-run-all":"^4.0.2","nyc":"^10.3.2","rollup":"^1.5.0","rollup-plugin-babel":"^4.0.1","rollup-plugin-json":"^3.1.0","rollup-plugin-local-resolve":"^1.0.7","shx":"^0.2.2"},"browserify":{"transform":["brfs","browserify-optional"]},"_id":"@foliojs-fork/fontkit@1.9.2","gitHead":"1586124d6b82615d675336278fbd840734ea5f04","bugs":{"url":"https://github.com/foliojs-fork/fontkit/issues"},"homepage":"https://github.com/foliojs-fork/fontkit#readme","_nodeVersion":"20.9.0","_npmVersion":"10.1.0","dist":{"integrity":"sha512-IfB5EiIb+GZk+77TRB86AHroVaqfq8JRFlUbz0WEwsInyCG0epX2tCPOy+UfaWPju30DeVoUAXfzWXmhn753KA==","shasum":"94241c195bc6204157bc84c33f34bdc967eca9c3","tarball":"https://registry.npmjs.org/@foliojs-fork/fontkit/-/fontkit-1.9.2.tgz","fileCount":132,"unpackedSize":3432411,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIBD1uAdQqs3x7AXzRucdYws6qmJ59fbxQ+qjdrZFuVGOAiBLQIQPE6RWherxnRLm1G6dgVxlgaVomPgdmZjo6CzjjA=="}]},"_npmUser":{"name":"liborm85","email":"liborm85@gmail.com"},"directories":{},"maintainers":[{"name":"liborm85","email":"liborm85@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/fontkit_1.9.2_1709821524040_0.40677555194680126"},"_hasShrinkwrap":false}},"time":{"created":"2021-07-01T10:21:03.781Z","1.9.0":"2021-07-01T10:21:04.339Z","modified":"2024-03-07T14:25:24.773Z","1.9.1":"2021-08-02T05:29:03.214Z","1.9.2":"2024-03-07T14:25:24.325Z"},"maintainers":[{"name":"liborm85","email":"liborm85@gmail.com"}],"description":"An advanced font engine for Node and the browser","homepage":"https://github.com/foliojs-fork/fontkit#readme","keywords":["opentype","font","typography","subset","emoji","glyph","layout"],"repository":{"type":"git","url":"git://github.com/foliojs-fork/fontkit.git"},"author":{"name":"Devon Govett","email":"devongovett@gmail.com"},"bugs":{"url":"https://github.com/foliojs-fork/fontkit/issues"},"license":"MIT","readme":"# Fork of fontkit [![npm][npm_img]][npm_url]\r\n\r\n[npm_img]: https://img.shields.io/npm/v/@foliojs-fork/fontkit.svg\r\n[npm_url]: https://www.npmjs.com/package/@foliojs-fork/fontkit\r\n\r\nFontkit is an advanced font engine for Node and the browser, used by [PDFKit](https://github.com/foliojs-fork/pdfkit). It supports many font formats, advanced glyph substitution and layout features, glyph path extraction, color emoji glyphs, font subsetting, and more.\r\n\r\n## Features\r\n\r\n* Suports TrueType (.ttf), OpenType (.otf), WOFF, WOFF2, TrueType Collection (.ttc), and Datafork TrueType (.dfont) font files\r\n* Supports mapping characters to glyphs, including support for ligatures and other advanced substitutions (see below)\r\n* Supports reading glyph metrics and laying out glyphs, including support for kerning and other advanced layout features (see below)\r\n* Advanced OpenType features including glyph substitution (GSUB) and positioning (GPOS)\r\n* Apple Advanced Typography (AAT) glyph substitution features (morx table)\r\n* Support for getting glyph vector paths and converting them to SVG paths, or rendering them to a graphics context\r\n* Supports TrueType (glyf) and PostScript (CFF) outlines\r\n* Support for color glyphs (e.g. emoji), including Apple’s SBIX table, and Microsoft’s COLR table\r\n* Support for AAT variation glyphs, allowing for nearly infinite design control over weight, width, and other axes.\r\n* Font subsetting support - create a new font including only the specified glyphs\r\n\r\n## Why fork?\r\n\r\nBecause the original repo is no longer maintained and exists a lot of PRs with improvements/fixes.\r\n\r\nThis forks contains these changes:\r\n- [Update build to babel 7](https://github.com/foliojs/fontkit/pull/196)\r\n- [Fix deprecated usage new Buffer](https://github.com/foliojs/fontkit/pull/227)\r\n- [Mocha: non-existent fonts report as pending](https://github.com/foliojs/fontkit/pull/226)\r\n- [Update restructure to v2](https://github.com/foliojs/fontkit/pull/225)\r\n- Move to [foliojs-fork/restructure](https://github.com/foliojs-fork/restructure) (see [Why fork?](https://github.com/foliojs-fork/restructure#why-fork))\r\n- [Migrate do GitHub Actions](https://github.com/foliojs-fork/fontkit/pull/4)\r\n- [Fix Noto font bug](https://github.com/foliojs/fontkit/pull/230)\r\n- Move brfs package as devDependencies\r\n\r\n## Installation\r\n\r\n    npm install @foliojs-fork/fontkit\r\n\r\n## Example\r\n\r\n```javascript\r\nvar fontkit = require('fontkit');\r\n\r\n// open a font synchronously\r\nvar font = fontkit.openSync('font.ttf');\r\n\r\n// layout a string, using default shaping features.\r\n// returns a GlyphRun, describing glyphs and positions.\r\nvar run = font.layout('hello world!');\r\n\r\n// get an SVG path for a glyph\r\nvar svg = run.glyphs[0].path.toSVG();\r\n\r\n// create a font subset\r\nvar subset = font.createSubset();\r\nrun.glyphs.forEach(function(glyph) {\r\n  subset.includeGlyph(glyph);\r\n});\r\n\r\nsubset.encodeStream()\r\n      .pipe(fs.createWriteStream('subset.ttf'));\r\n```\r\n\r\n## API\r\n\r\n### `fontkit.open(filename, postscriptName = null, callback(err, font))`\r\n\r\nOpens a font file asynchronously, and calls the callback with a font object. For collection fonts (such as TrueType collection files), you can pass a `postscriptName` to get that font out of the collection instead of a collection object.\r\n\r\n### `fontkit.openSync(filename, postscriptName = null)`\r\n\r\nOpens a font file synchronously, and returns a font object. For collection fonts (such as TrueType collection files), you can pass a `postscriptName` to get that font out of the collection instead of a collection object.\r\n\r\n### `fontkit.create(buffer, postscriptName = null)`\r\n\r\nReturns a font object for the given buffer. For collection fonts (such as TrueType collection files), you can pass a `postscriptName` to get that font out of the collection instead of a collection object.\r\n\r\n## Font objects\r\n\r\nThere are several different types of font objects that are returned by fontkit depending on the font format. They all inherit from the `TTFFont` class and have the same public API, described below.\r\n\r\n### Metadata properties\r\n\r\nThe following properties are strings (or null if the font does not contain strings for them) describing the font, as specified by the font creator.\r\n\r\n* `postscriptName`\r\n* `fullName`\r\n* `familyName`\r\n* `subfamilyName`\r\n* `copyright`\r\n* `version`\r\n\r\n### Metrics\r\n\r\nThe following properties describe the general metrics of the font. See [here](http://www.freetype.org/freetype2/docs/glyphs/glyphs-3.html) for a good overview of how all of these properties relate to one another.\r\n\r\n* `unitsPerEm` - the size of the font’s internal coordinate grid\r\n* `ascent` - the font’s [ascender](http://en.wikipedia.org/wiki/Ascender_(typography))\r\n* `descent` - the font’s [descender](http://en.wikipedia.org/wiki/Descender)\r\n* `lineGap` - the amount of space that should be included between lines\r\n* `underlinePosition` - the offset from the normal underline position that should be used\r\n* `underlineThickness` - the weight of the underline that should be used\r\n* `italicAngle` - if this is an italic font, the angle the cursor should be drawn at to match the font design\r\n* `capHeight` - the height of capital letters above the baseline. See [here](http://en.wikipedia.org/wiki/Cap_height) for more details.\r\n* `xHeight`- the height of lower case letters. See [here](http://en.wikipedia.org/wiki/X-height) for more details.\r\n* `bbox` - the font’s bounding box, i.e. the box that encloses all glyphs in the font\r\n\r\n### Other properties\r\n\r\n* `numGlyphs` - the number of glyphs in the font\r\n* `characterSet` - an array of all of the unicode code points supported by the font\r\n* `availableFeatures` - an array of all [OpenType feature tags](https://www.microsoft.com/typography/otspec/featuretags.htm) (or mapped AAT tags) supported by the font (see below for a description of this)\r\n\r\n### Character to glyph mapping\r\n\r\nFontkit includes several methods for character to glyph mapping, including support for advanced OpenType and AAT substitutions.\r\n\r\n#### `font.glyphForCodePoint(codePoint)`\r\n\r\nMaps a single unicode code point (number) to a Glyph object. Does not perform any advanced substitutions (there is no context to do so).\r\n\r\n#### `font.hasGlyphForCodePoint(codePoint)`\r\n\r\nReturns whether there is glyph in the font for the given unicode code point.\r\n\r\n#### `font.glyphsForString(string)`\r\n\r\nThis method returns an array of Glyph objects for the given string. This is only a one-to-one mapping from characters\r\nto glyphs. For most uses, you should use `font.layout` (described below), which provides a much more advanced mapping\r\nsupporting AAT and OpenType shaping.\r\n\r\n### Glyph metrics and layout\r\n\r\nFontkit includes several methods for accessing glyph metrics and performing layout, including support for kerning and other advanced OpenType positioning adjustments.\r\n\r\n#### `font.widthOfGlyph(glyph_id)`\r\n\r\nReturns the advance width (described above) for a single glyph id.\r\n\r\n#### `font.layout(string, features = [] | {})`\r\n\r\nThis method returns a `GlyphRun` object, which includes an array of `Glyph`s and `GlyphPosition`s for the given string.\r\n`Glyph` objects are described below. `GlyphPosition` objects include 4 properties: `xAdvance`, `yAdvance`, `xOffset`,\r\nand `yOffset`.\r\n\r\nThe `features` parameter is either an array of [OpenType feature tags](https://www.microsoft.com/typography/otspec/featuretags.htm) to be applied\r\nin addition to the default set, or an object mapping OpenType features to a boolean enabling or disabling each. If this is an AAT font, the OpenType feature tags are mapped to AAT features.\r\n\r\n### Variation fonts\r\n\r\nFontkit has support for AAT variation fonts, where glyphs can adjust their shape according to user defined settings along\r\nvarious axes including weight, width, and slant. Font designers specify the minimum, default, and maximum values for each\r\naxis they support, and allow the user fine grained control over the rendered text.\r\n\r\n#### `font.variationAxes`\r\n\r\nReturns an object describing the available variation axes. Keys are 4 letter axis tags, and values include `name`,\r\n`min`, `default`, and `max` properties for the axis.\r\n\r\n#### `font.namedVariations`\r\n\r\nThe font designer may have picked out some variations that they think look particularly good, for example a light, regular,\r\nand bold weight which would traditionally be separate fonts. This property returns an object describing these named variation\r\ninstances that the designer has specified. Keys are variation names, and values are objects with axis settings.\r\n\r\n#### `font.getVariation(variation)`\r\n\r\nReturns a new font object representing this variation, from which you can get glyphs and perform layout as normal.\r\nThe `variation` parameter can either be a variation settings object or a string variation name. Variation settings objects\r\nhave axis names as keys, and numbers as values (should be in the range specified by `font.variationAxes`).\r\n\r\n### Other methods\r\n\r\n#### `font.getGlyph(glyph_id, codePoints = [])`\r\n\r\nReturns a glyph object for the given glyph id. You can pass the array of code points this glyph represents for your use later, and it will be stored in the glyph object.\r\n\r\n#### `font.createSubset()`\r\n\r\nReturns a Subset object for this font, described below.\r\n\r\n## Font Collection objects\r\n\r\nFor font collection files that contain multiple fonts in a single file, such as TrueType Collection (.ttc) and Datafork TrueType (.dfont) files, a font collection object can be returned by Fontkit.\r\n\r\n### `collection.getFont(postscriptName)`\r\n\r\nGets a font from the collection by its postscript name. Returns a Font object, described above.\r\n\r\n### `collection.fonts`\r\n\r\nThis property is a lazily-loaded array of all of the fonts in the collection.\r\n\r\n## Glyph objects\r\n\r\nGlyph objects represent a glyph in the font. They have various properties for accessing metrics and the actual vector path the glyph represents, and methods for rendering the glyph to a graphics context.\r\n\r\nYou do not create glyph objects directly. They are created by various methods on the font object, described above. There are several subclasses of the base `Glyph` class internally that may be returned depending on the font format, but they all include the following API.\r\n\r\n### Properties\r\n\r\n* `id` - the glyph id in the font\r\n* `codePoints` - an array of unicode code points that are represented by this glyph. There can be multiple code points in the case of ligatures and other glyphs that represent multiple visual characters.\r\n* `path` - a vector Path object representing the glyph\r\n* `bbox` - the glyph’s bounding box, i.e. the rectangle that encloses the glyph outline as tightly as possible.\r\n* `cbox` - the glyph’s control box. This is often the same as the bounding box, but is faster to compute. Because of the way bezier curves are defined, some of the control points can be outside of the bounding box. Where `bbox` takes this into account, `cbox` does not. Thus, `cbox` is less accurate, but faster to compute. See [here](http://www.freetype.org/freetype2/docs/glyphs/glyphs-6.html#section-2) for a more detailed description.\r\n* `advanceWidth` - the glyph’s advance width.\r\n\r\n### `glyph.render(ctx, size)`\r\n\r\nRenders the glyph to the given graphics context, at the specified font size.\r\n\r\n### Color glyphs (e.g. emoji)\r\n\r\nFontkit has support for several different color emoji font formats. Currently, these include Apple’s SBIX table (as used by the “Apple Color Emoji” font), and Microsoft’s COLR table (supported by Windows 8.1). [Here](http://blog.symbolset.com/multicolor-fonts) is an overview of the various color font formats out there.\r\n\r\n#### `glyph.getImageForSize(size)`\r\n\r\nFor SBIX glyphs, which are bitmap based, this returns an object containing some properties about the image, along with the image data itself (usually PNG).\r\n\r\n#### `glyph.layers`\r\n\r\nFor COLR glyphs, which are vector based, this returns an array of objects representing the glyphs and colors for each layer in render order.\r\n\r\n## Path objects\r\n\r\nPath objects are returned by glyphs and represent the actual vector outlines for each glyph in the font. Paths can be converted to SVG path data strings, or to functions that can be applied to render the path to a graphics context.\r\n\r\n### `path.moveTo(x, y)`\r\n\r\nMoves the virtual pen to the given x, y coordinates.\r\n\r\n### `path.lineTo(x, y)`\r\n\r\nAdds a line to the path from the current point to the given x, y coordinates.\r\n\r\n### `path.quadraticCurveTo(cpx, cpy, x, y)`\r\n\r\nAdds a quadratic curve to the path from the current point to the given x, y coordinates using cpx, cpy as a control point.\r\n\r\n### `path.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)`\r\n\r\nAdds a bezier curve to the path from the current point to the given x, y coordinates using cp1x, cp1y and cp2x, cp2y as control points.\r\n\r\n### `path.closePath()`\r\n\r\nCloses the current sub-path by drawing a straight line back to the starting point.\r\n\r\n### `path.toFunction()`\r\n\r\nCompiles the path to a JavaScript function that can be applied with a graphics context in order to render the path.\r\n\r\n### `path.toSVG()`\r\n\r\nConverts the path to an SVG path data string.\r\n\r\n### `path.bbox`\r\n\r\nThis property represents the path’s bounding box, i.e. the smallest rectangle that contains the entire path shape. This is the exact bounding box, taking into account control points that may be outside the visible shape.\r\n\r\n### `path.cbox`\r\n\r\nThis property represents the path’s control box. It is like the bounding box, but it includes all points of the path, including control points of bezier segments. It is much faster to compute than the real bounding box, but less accurate if there are control points outside of the visible shape.\r\n\r\n## Subsets\r\n\r\nFontkit can perform font subsetting, i.e. the process of creating a new font from an existing font where only the specified glyphs are included. This is useful to reduce the size of large fonts, such as in PDF generation or for web use.\r\n\r\nCurrently, subsets produce minimal fonts designed for PDF embedding that may not work as standalone files. They have no cmap tables and other essential tables for standalone use. This limitation will be removed in the future.\r\n\r\nYou create a Subset object by calling `font.createSubset()`, described above. The API on Subset objects is as follows.\r\n\r\n### `subset.includeGlyph(glyph)`\r\n\r\nIncludes the given glyph object or glyph ID in the subset.\r\n\r\n### `subset.encodeStream()`\r\n\r\nReturns a [stream](https://nodejs.org/api/stream.html) containing the encoded font file that can be piped to a destination, such as a file.\r\n\r\n## License\r\n\r\nMIT\r\n","readmeFilename":"README.md"}