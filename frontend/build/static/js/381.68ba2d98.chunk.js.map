{"version":3,"file":"static/js/381.68ba2d98.chunk.js","mappings":"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","sources":["utils/templatePDFGenerator.js"],"sourcesContent":["import jsPDF from \"jspdf\";\n\nexport const generateTemplatePDF = async (template, sampleData, replacePlaceholders) => {\n  // Create a new PDF document\n  const doc = new jsPDF();\n  \n  // Set up the page\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const margin = 20;\n  const contentWidth = pageWidth - (2 * margin);\n  \n  let y = margin;\n\n  // Helper function to add text with proper spacing\n  const addText = (text, fontSize = 11, fontStyle = \"normal\", spacing = 8) => {\n    if (!text) return y;\n    \n    doc.setFontSize(fontSize);\n    doc.setFont(\"helvetica\", fontStyle);\n    \n    const lines = doc.splitTextToSize(text, contentWidth);\n    doc.text(text, margin, y, { maxWidth: contentWidth });\n    \n    y += (lines.length * fontSize * 1.2) + spacing;\n    return y;\n  };\n\n  // Helper function to add header\n  const addHeader = (text, fontSize = 14, fontStyle = \"bold\") => {\n    return addText(text, fontSize, fontStyle, 12);\n  };\n\n  // Front Cover\n  y = addHeader(\n    replacePlaceholders(\n      template.standardSections.frontCoverTitle || \"Non-friable Asbestos Removal Clearance\"\n    ),\n    16,\n    \"bold\"\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.frontCoverSubtitle || \"\"),\n    12,\n    \"normal\",\n    20\n  );\n\n  // Add a line break\n  y += 10;\n\n  // Company Details\n  if (template.companyDetails) {\n    y = addHeader(\"Company Details\", 12, \"bold\");\n    Object.entries(template.companyDetails).forEach(([key, value]) => {\n      const label = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, \" $1\");\n      y = addText(`${label}: ${value}`, 10, \"normal\", 4);\n    });\n    y += 10;\n  }\n\n  // Inspection Details\n  y = addHeader(\n    replacePlaceholders(\n      template.standardSections.inspectionDetailsTitle || \"Inspection Details\"\n    ),\n    12,\n    \"bold\"\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.inspectionIntroduction || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.inspectionSpecifics || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.tableIntroduction || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n\n  // Add a sample inspection table\n  y = addText(\"Sample Inspection Results:\", 10, \"bold\", 4);\n  \n  // Simple table structure\n  const tableData = [\n    [\"Area\", \"Material Type\", \"Condition\", \"Result\"],\n    [\"Kitchen\", \"Vinyl Floor Tiles\", \"Good\", \"Pass\"],\n    [\"Bathroom\", \"Vinyl Floor Tiles\", \"Good\", \"Pass\"],\n    [\"Living Room\", \"Vinyl Floor Tiles\", \"Good\", \"Pass\"],\n  ];\n\n  tableData.forEach((row, index) => {\n    const isHeader = index === 0;\n    const fontStyle = isHeader ? \"bold\" : \"normal\";\n    const fontSize = isHeader ? 10 : 9;\n    \n    // Calculate column widths\n    const colWidths = [40, 50, 40, 30];\n    let x = margin;\n    \n    row.forEach((cell, colIndex) => {\n      doc.setFontSize(fontSize);\n      doc.setFont(\"helvetica\", fontStyle);\n      doc.text(cell, x, y, { maxWidth: colWidths[colIndex] });\n      x += colWidths[colIndex] + 5;\n    });\n    \n    y += fontSize * 1.2 + 2;\n  });\n  \n  y += 10;\n\n  // Check if we need a new page\n  if (y > pageHeight - 100) {\n    doc.addPage();\n    y = margin;\n  }\n\n  // Clearance Certification\n  y = addHeader(\n    replacePlaceholders(\n      template.standardSections.clearanceCertificationTitle || \"Clearance Certification\"\n    ),\n    12,\n    \"bold\"\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.clearanceCertificationText || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.riskAssessmentText || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.contactText || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.behalfText || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.signatureTitle || \"\"),\n    10,\n    \"bold\",\n    8\n  );\n\n  // Check if we need a new page\n  if (y > pageHeight - 100) {\n    doc.addPage();\n    y = margin;\n  }\n\n  // Background Information\n  y = addHeader(\n    replacePlaceholders(\n      template.standardSections.backgroundTitle || \"Background Information\"\n    ),\n    12,\n    \"bold\"\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.backgroundIntroduction || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.bulletPoint1 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.bulletPoint2 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.requirementsText || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.bulletPoint3 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.bulletPoint4 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.bulletPoint5 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n\n  // Check if we need a new page\n  if (y > pageHeight - 100) {\n    doc.addPage();\n    y = margin;\n  }\n\n  // Legislative Requirements\n  y = addHeader(\n    replacePlaceholders(\n      template.standardSections.legislativeTitle || \"Legislative Requirements\"\n    ),\n    12,\n    \"bold\"\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.legislativeIntroduction || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.legislativePoint1 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.legislativePoint2 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n  y = addText(\n    `• ${replacePlaceholders(template.standardSections.legislativePoint3 || \"\")}`,\n    10,\n    \"normal\",\n    4\n  );\n\n  // Limitations\n  y = addHeader(\n    replacePlaceholders(\n      template.standardSections.limitationsTitle || \"Limitations\"\n    ),\n    12,\n    \"bold\"\n  );\n  y = addText(\n    replacePlaceholders(template.standardSections.limitationsText || \"\"),\n    10,\n    \"normal\",\n    8\n  );\n\n  // Check if we need a new page for signature\n  if (y > pageHeight - 150) {\n    doc.addPage();\n    y = margin;\n  }\n\n  // Signature Section\n  y = addHeader(\"Authorised Signature\", 12, \"bold\");\n  y += 20; // Space for signature line\n  \n  // Signature line\n  doc.setLineWidth(0.5);\n  doc.line(margin, y, margin + 80, y);\n  y += 5;\n  \n  // Signature details\n  y = addText(\"Name: John Smith\", 10, \"normal\", 4);\n  y = addText(\"License: AI000456\", 10, \"normal\", 4);\n  y = addText(\"Date: 25 July 2024\", 10, \"normal\", 4);\n  \n  y += 20;\n\n  // Footer\n  y = addText(\n    replacePlaceholders(template.standardSections.footerText || \"\"),\n    9,\n    \"normal\",\n    8\n  );\n\n  // Save the PDF\n  const fileName = `asbestos-clearance-template-preview-${new Date().toISOString().split('T')[0]}.pdf`;\n  doc.save(fileName);\n\n  return fileName;\n};\n\n// Embedded HTML templates\nconst HTML_TEMPLATES = {\n  cover: `<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Asbestos Clearance Report - Cover</title>\n    <link\n      href=\"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: \"Montserrat\", Arial, sans-serif;\n        background: #fff;\n      }\n      .page {\n        width: 800px;\n        height: 1130px;\n        margin: 40px auto;\n        background: #fff;\n        box-shadow: 0 4px 32px rgba(0, 0, 0, 0.12);\n        position: relative;\n        padding: 0 0 0 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n      }\n      .header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        padding: 16px 48px 0 48px;\n      }\n      .logo {\n        width: 243px;\n        height: auto;\n        display: block;\n        background: #fff;\n      }\n      .company-details {\n        text-align: right;\n        font-size: 0.75rem;\n        color: #222;\n        line-height: 1.5;\n        margin-top: 8px;\n      }\n      .company-details .website {\n        color: #16b12b;\n        font-weight: 500;\n      }\n      .header-line {\n        width: calc(100% - 96px);\n        height: 4px;\n        background: #16b12b;\n        margin: 8px auto 0 auto;\n        border-radius: 2px;\n      }\n      .content {\n        padding: 10px 48px 24px 48px;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n      }\n      .centered-text {\n        font-size: 1.8rem;\n        text-transform: uppercase;\n        color: #222;\n        text-align: center;\n        letter-spacing: 0.02em;\n      }\n      .main-title {\n        font-weight: 700;\n        color: #16b12b;\n      }\n      .subtitle {\n        font-weight: 400;\n      }\n      .project-details {\n        margin-top: 40px;\n        text-align: center;\n        font-size: 0.9rem;\n        color: #222;\n      }\n      .footer {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 16px;\n        width: calc(100% - 96px);\n        margin: 0 auto;\n        text-align: justify;\n        font-size: 0.75rem;\n        color: #222;\n      }\n      .footer-line {\n        width: 100%;\n        height: 4px;\n        background: #16b12b;\n        margin-bottom: 6px;\n        border-radius: 2px;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"page\">\n      <div class=\"header\">\n        <img\n          class=\"logo\"\n          height=\"200px\"\n          width=\"400px\"\n          src=\"/frontend/public/logo.png\"\n          alt=\"Company Logo\"\n          onerror=\"this.style.border='2px solid red';this.style.background='#eee';this.style.padding='8px';this.src='';this.alt='[Logo missing]';\"\n        />\n        <div class=\"company-details\">\n          Lancaster & Dickenson Consulting Pty Ltd<br />\n          4/6 Dacre Street<br />\n          Mitchell ACT 2911<br />\n          W: <span class=\"website\">www.landd.com.au</span>\n        </div>\n      </div>\n      <div class=\"header-line\"></div>\n      <div class=\"content\">\n        <div class=\"centered-text\">\n          <div class=\"main-title\">ASBESTOS REMOVAL CLEARANCE CERTIFICATE</div>\n          <div class=\"subtitle\">{REPORT_TYPE} Asbestos Removal</div>\n        </div>\n        <div class=\"project-details\">\n          <div><strong>Site Name:</strong> {SITE_NAME}</div>\n          <div><strong>Client:</strong> {CLIENT_NAME}</div>\n          <div><strong>Clearance Date:</strong> {CLEARANCE_DATE}</div>\n          <div><strong>Clearance Type:</strong> {REPORT_TYPE}</div>\n          <div><strong>LAA:</strong> {LAA_NAME}</div>\n          <div><strong>Asbestos Removalist:</strong> {ASBESTOS_REMOVALIST}</div>\n        </div>\n      </div>\n      <div class=\"footer\">\n        <div class=\"footer-line\"></div>\n        {REPORT_TYPE} Clearance Certificate: {SITE_NAME}\n      </div>\n    </div>\n  </body>\n</html>`,\n\n  mainReport: `<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Asbestos Clearance Report - Main Content</title>\n    <link\n      href=\"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: \"Montserrat\", Arial, sans-serif;\n        background: #fff;\n      }\n      .page {\n        width: 800px;\n        height: 1130px;\n        margin: 40px auto;\n        background: #fff;\n        box-shadow: 0 4px 32px rgba(0, 0, 0, 0.12);\n        position: relative;\n        padding: 0 0 0 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n      }\n      .header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        padding: 16px 48px 0 48px;\n      }\n      .logo {\n        width: 243px;\n        height: auto;\n        display: block;\n        background: #fff;\n      }\n      .company-details {\n        text-align: right;\n        font-size: 0.75rem;\n        color: #222;\n        line-height: 1.5;\n        margin-top: 8px;\n      }\n      .company-details .website {\n        color: #16b12b;\n        font-weight: 500;\n      }\n      .header-line {\n        width: calc(100% - 96px);\n        height: 4px;\n        background: #16b12b;\n        margin: 8px auto 0 auto;\n        border-radius: 2px;\n      }\n      .content {\n        padding: 10px 48px 24px 48px;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n      }\n      .section-header {\n        font-size: 0.9rem;\n        font-weight: 700;\n        text-transform: uppercase;\n        margin: 10px 0 10px 0;\n        letter-spacing: 0.01em;\n        color: #222;\n        text-align: justify;\n      }\n      .section-header.first-section {\n        margin-top: 18px;\n      }\n      .section-header:not(.first-section) {\n        margin-top: 10px;\n      }\n      .paragraph {\n        font-size: 0.8rem;\n        margin-bottom: 12px;\n        color: #222;\n        line-height: 1.5;\n        text-align: justify;\n      }\n      .table-title {\n        font-size: 0.8rem;\n        font-weight: 700;\n        margin: 0 0 12px 0;\n        text-align: justify;\n        line-height: 1.5;\n      }\n      .asbestos-table {\n        width: 100%;\n        border-collapse: collapse;\n        margin-bottom: 12px;\n      }\n      .asbestos-table th,\n      .asbestos-table td {\n        border: 2px solid #444;\n        padding: 6px 10px;\n        font-size: 0.8rem;\n        text-align: left;\n        line-height: 1.5;\n      }\n      .asbestos-table th {\n        background: #f5f5f5;\n        font-weight: 700;\n      }\n      .signature-block {\n        margin-top: 12px;\n        margin-bottom: 0;\n        font-size: 0.8rem;\n        color: #222;\n        text-align: justify;\n        line-height: 1.5;\n      }\n      .signature-line {\n        margin: 24px 0 8px 0;\n        width: 180px;\n        border-bottom: 2px solid #444;\n        height: 24px;\n      }\n      .signature-name {\n        font-weight: 700;\n        margin-top: 8px;\n        font-size: 0.8rem;\n      }\n      .signature-licence {\n        font-size: 0.8rem;\n        color: #444;\n      }\n      .footer {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 16px;\n        width: calc(100% - 96px);\n        margin: 0 auto;\n        text-align: justify;\n        font-size: 0.75rem;\n        color: #222;\n      }\n      .footer-line {\n        width: 100%;\n        height: 4px;\n        background: #16b12b;\n        margin-bottom: 6px;\n        border-radius: 2px;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"page\">\n      <div class=\"header\">\n        <img\n          class=\"logo\"\n          height=\"200px\"\n          width=\"400px\"\n          src=\"/frontend/public/logo.png\"\n          alt=\"Company Logo\"\n          onerror=\"this.style.border='2px solid red';this.style.background='#eee';this.style.padding='8px';this.src='';this.alt='[Logo missing]';\"\n        />\n        <div class=\"company-details\">\n          Lancaster & Dickenson Consulting Pty Ltd<br />\n          4/6 Dacre Street<br />\n          Mitchell ACT 2911<br />\n          W: <span class=\"website\">www.landd.com.au</span>\n        </div>\n      </div>\n      <div class=\"header-line\"></div>\n      <div class=\"content\">\n        <div class=\"section-header first-section\">Inspection Details</div>\n        <div class=\"paragraph\">\n          Following discussions with {CLIENT_NAME}, Lancaster and Dickenson\n          Consulting (L &amp; D) were contracted to undertake a visual clearance\n          inspection following the removal of {ASBESTOS_TYPE} asbestos from\n          <b>{SITE_NAME}</b> (herein referred to as 'the Site').\n        </div>\n        <div class=\"paragraph\">\n          Asbestos removal works were undertaken by\n          <b>{ASBESTOS_REMOVALIST}</b>. <b>{LAA_NAME}</b>\n          <b>{LAA_LICENSE}</b> from L&amp;D visited the Site at\n          {INSPECTION_TIME} on {INSPECTION_DATE}.\n        </div>\n        <div class=\"paragraph\">\n          Table 1 below outlines the ACM that formed part of the inspection.\n          Photographs of the Asbestos Removal Area and a Site Plan are presented\n          in Appendix A and Appendix B respectively.\n        </div>\n        <div class=\"table-title\">Table 1: Asbestos Removal Areas</div>\n        <table class=\"asbestos-table\">\n          <tr>\n            <th>Item</th>\n            <th>Location</th>\n            <th>Material Description</th>\n            <th>Asbestos Type</th>\n          </tr>\n          <tr>\n            <td>1</td>\n            <td>Laundry wall sheet</td>\n            <td>Fibre cement</td>\n            <td>Non-friable</td>\n          </tr>\n          <tr>\n            <td>2</td>\n            <td>Bathroom wall sheet</td>\n            <td>Fibre cement</td>\n            <td>Non-friable</td>\n          </tr>\n        </table>\n\n        <div class=\"section-header\">Inspection Exclusions</div>\n        <div class=\"paragraph\">\n          This clearance certificate is specific to the scope of removal works\n          detailed above. ACM may be present beyond the inspected area. Asbestos\n          fibre cement packers remain under the windowsill. The packers were\n          sprayed with black spray. The packers should be removed prior to\n          commencing works that may disturb or damage the material.\n        </div>\n\n        <div class=\"section-header\">Clearance Certification</div>\n        <div class=\"paragraph\">\n          An inspection of the asbestos removal area and the surrounding areas\n          (including access and egress pathways) was undertaken on {INSPECTION_DATE}.\n          The LAA found no visible asbestos residue from asbestos removal work\n          in the asbestos removal area, or in the vicinity of the area, where\n          the asbestos removal works were carried out.\n        </div>\n        <div class=\"paragraph\">\n          The LAA considers that the asbestos removal area does not pose a risk\n          to health and safety from exposure to asbestos and may be re-occupied.\n        </div>\n        <div class=\"paragraph\">\n          Please do not hesitate to contact the undersigned should you have any\n          queries regarding this report.\n        </div>\n        <div class=\"signature-block\">\n          For and on behalf of Lancaster and Dickenson Consulting.<br />\n          <div class=\"signature-line\"></div>\n          <div class=\"signature-name\">{LAA_NAME}</div>\n          <div class=\"signature-licence\">{LAA_LICENSE}</div>\n        </div>\n      </div>\n      <div class=\"footer\">\n        <div class=\"footer-line\"></div>\n        {REPORT_TYPE} Clearance Certificate: {SITE_NAME}\n      </div>\n    </div>\n  </body>\n</html>`,\n\n  appendixA: `<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Asbestos Clearance Report - Appendix A</title>\n    <link\n      href=\"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        font-family: \"Montserrat\", Arial, sans-serif;\n        background: #fff;\n      }\n      .page {\n        width: 800px;\n        height: 1130px;\n        margin: 40px auto;\n        background: #fff;\n        box-shadow: 0 4px 32px rgba(0, 0, 0, 0.12);\n        position: relative;\n        padding: 0 0 0 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n      }\n      .header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        padding: 16px 48px 0 48px;\n      }\n      .logo {\n        width: 243px;\n        height: auto;\n        display: block;\n        background: #fff;\n      }\n      .company-details {\n        text-align: right;\n        font-size: 0.75rem;\n        color: #222;\n        line-height: 1.5;\n        margin-top: 8px;\n      }\n      .company-details .website {\n        color: #16b12b;\n        font-weight: 500;\n      }\n      .header-line {\n        width: calc(100% - 96px);\n        height: 4px;\n        background: #16b12b;\n        margin: 8px auto 0 auto;\n        border-radius: 2px;\n      }\n      .content {\n        padding: 10px 48px 24px 48px;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n      }\n      .centered-text {\n        font-size: 1.8rem;\n        text-transform: uppercase;\n        color: #222;\n        text-align: center;\n        letter-spacing: 0.02em;\n      }\n      .appendix-title {\n        font-weight: 700;\n        color: #16b12b;\n      }\n      .photographs-text {\n        font-weight: 400;\n      }\n      .footer {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 16px;\n        width: calc(100% - 96px);\n        margin: 0 auto;\n        text-align: justify;\n        font-size: 0.75rem;\n        color: #222;\n      }\n      .footer-line {\n        width: 100%;\n        height: 4px;\n        background: #16b12b;\n        margin-bottom: 6px;\n        border-radius: 2px;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"page\">\n      <div class=\"header\">\n        <img\n          class=\"logo\"\n          height=\"200px\"\n          width=\"400px\"\n          src=\"/frontend/public/logo.png\"\n          alt=\"Company Logo\"\n          onerror=\"this.style.border='2px solid red';this.style.background='#eee';this.style.padding='8px';this.src='';this.alt='[Logo missing]';\"\n        />\n        <div class=\"company-details\">\n          Lancaster & Dickenson Consulting Pty Ltd<br />\n          4/6 Dacre Street<br />\n          Mitchell ACT 2911<br />\n          W: <span class=\"website\">www.landd.com.au</span>\n        </div>\n      </div>\n      <div class=\"header-line\"></div>\n      <div class=\"content\">\n        <div class=\"centered-text\">\n          <div class=\"appendix-title\">APPENDIX A</div>\n          <div class=\"photographs-text\">PHOTOGRAPHS</div>\n        </div>\n      </div>\n      <div class=\"footer\">\n        <div class=\"footer-line\"></div>\n        {REPORT_TYPE} Clearance Certificate: {SITE_NAME}\n      </div>\n    </div>\n  </body>\n</html>`\n};\n\n/**\n * Generate PDF from HTML templates\n * @param {string} templateType - Type of template (e.g., 'asbestos-clearance')\n * @param {Object} data - Clearance data\n * @returns {Promise<string>} - Generated PDF filename\n */\n// Keep the old function for backward compatibility\nexport const generateHTMLPDF = async (templateType, data) => {\n  return generateHTMLTemplatePDF(templateType, data);\n};\n\nexport const generateHTMLTemplatePDF = async (templateType, data) => {\n  try {\n    // Use embedded HTML templates\n    const templates = [\n      HTML_TEMPLATES.cover,\n      HTML_TEMPLATES.mainReport,\n      HTML_TEMPLATES.appendixA\n    ];\n\n    // Populate templates with data\n    const populatedTemplates = templates.map(template => \n      populateTemplate(template, data)\n    );\n\n    // Create PDF from HTML templates\n    const doc = new jsPDF('p', 'mm', 'a4');\n    \n    for (let i = 0; i < populatedTemplates.length; i++) {\n      if (i > 0) {\n        doc.addPage();\n      }\n      \n      const template = populatedTemplates[i];\n      const html2canvas = (await import('html2canvas')).default;\n      const canvas = await html2canvas(template, {\n        scale: 2,\n        useCORS: true,\n        allowTaint: true,\n        backgroundColor: '#ffffff'\n      });\n      \n      const imgData = canvas.toDataURL('image/png');\n      const imgWidth = 210; // A4 width in mm\n      const pageHeight = 295; // A4 height in mm\n      const imgHeight = (canvas.height * imgWidth) / canvas.width;\n      \n      doc.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);\n    }\n\n    const fileName = `asbestos-clearance-${data.projectId?.name || 'report'}-${new Date().toISOString().split('T')[0]}.pdf`;\n    doc.save(fileName);\n    \n    return fileName;\n  } catch (error) {\n    console.error(\"Error generating HTML template PDF:\", error);\n    throw error;\n  }\n};\n\n/**\n * Populate HTML template with data\n * @param {string} htmlTemplate - HTML template string\n * @param {Object} data - Data to populate\n * @returns {HTMLElement} - Populated HTML element\n */\nconst populateTemplate = (htmlTemplate, data) => {\n  // Create a temporary container\n  const container = document.createElement('div');\n  container.innerHTML = htmlTemplate;\n  \n  // Replace placeholders with actual data\n  const replacements = {\n    '{Project site name}': data.projectId?.name || 'Unknown Site',\n    '{asbestos removalist}': data.asbestosRemovalist || 'Unknown Removalist',\n    '{Assessor Name}': data.LAA || 'Unknown LAA',\n    '{Assessor Licence Details}': 'ACT Licensed Asbestos Assessor - AA00031',\n    '{CLIENT_NAME}': data.projectId?.client?.name || 'Unknown Client',\n    '{ASBESTOS_TYPE}': data.clearanceType?.toLowerCase() || 'non-friable',\n    '{SITE_NAME}': data.projectId?.name || 'Unknown Site',\n    '{SITE_ADDRESS}': data.projectId?.address || 'Unknown Address',\n    '{PROJECT_ID}': data.projectId?.projectID || 'Unknown Project',\n    '{CLEARANCE_DATE}': data.clearanceDate \n      ? new Date(data.clearanceDate).toLocaleDateString('en-GB')\n      : 'Unknown Date',\n    '{ASBESTOS_REMOVALIST}': data.asbestosRemovalist || 'Unknown Removalist',\n    '{LAA_NAME}': data.LAA || 'Unknown LAA',\n    '{LAA_LICENSE}': 'AA00031',\n    '{INSPECTION_TIME}': 'Inspection Time',\n    '{INSPECTION_DATE}': data.clearanceDate \n      ? new Date(data.clearanceDate).toLocaleDateString('en-GB')\n      : 'Unknown Date',\n    '{REPORT_TYPE}': data.clearanceType || 'Non-friable',\n    '{LOGO_URL}': '/images/logo.png'\n  };\n\n  let populatedHTML = htmlTemplate;\n  Object.entries(replacements).forEach(([placeholder, value]) => {\n    populatedHTML = populatedHTML.replace(new RegExp(placeholder.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'g'), value);\n  });\n\n  container.innerHTML = populatedHTML;\n  return container;\n}; "],"names":["generateTemplatePDF","async","template","sampleData","replacePlaceholders","doc","jsPDF","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","margin","contentWidth","y","addText","text","fontSize","arguments","length","undefined","fontStyle","spacing","setFontSize","setFont","lines","splitTextToSize","maxWidth","addHeader","standardSections","frontCoverTitle","frontCoverSubtitle","companyDetails","Object","entries","forEach","_ref","key","value","label","charAt","toUpperCase","slice","replace","concat","inspectionDetailsTitle","inspectionIntroduction","inspectionSpecifics","tableIntroduction","row","index","isHeader","colWidths","x","cell","colIndex","addPage","clearanceCertificationTitle","clearanceCertificationText","riskAssessmentText","contactText","behalfText","signatureTitle","backgroundTitle","backgroundIntroduction","bulletPoint1","bulletPoint2","requirementsText","bulletPoint3","bulletPoint4","bulletPoint5","legislativeTitle","legislativeIntroduction","legislativePoint1","legislativePoint2","legislativePoint3","limitationsTitle","limitationsText","setLineWidth","line","footerText","fileName","Date","toISOString","split","save","HTML_TEMPLATES","generateHTMLTemplatePDF","templateType","data","_data$projectId","populatedTemplates","map","populateTemplate","i","html2canvas","default","canvas","scale","useCORS","allowTaint","backgroundColor","imgData","toDataURL","imgWidth","imgHeight","height","width","addImage","projectId","name","error","console","htmlTemplate","_data$projectId2","_data$projectId3","_data$projectId3$clie","_data$clearanceType","_data$projectId4","_data$projectId5","_data$projectId6","container","document","createElement","innerHTML","replacements","asbestosRemovalist","LAA","client","clearanceType","toLowerCase","address","projectID","clearanceDate","toLocaleDateString","populatedHTML","_ref2","placeholder","RegExp"],"sourceRoot":""}