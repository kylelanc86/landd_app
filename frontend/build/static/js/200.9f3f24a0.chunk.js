"use strict";(self.webpackChunkair_monitoring_frontend=self.webpackChunkair_monitoring_frontend||[]).push([[200,228],{2828:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(58168),o=a(98587),s=a(65043),r=a(58387),i=a(98610),c=a(98206),l=a(34535),d=a(92532),A=a(72372);function u(e){return(0,A.Ay)("MuiCardActionArea",e)}const h=(0,d.A)("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var p=a(72949),g=a(70579);const m=["children","className","focusVisibleClassName"],x=(0,l.Ay)(p.A,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",["&:hover .".concat(h.focusHighlight)]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},["&.".concat(h.focusVisible," .").concat(h.focusHighlight)]:{opacity:(t.vars||t).palette.action.focusOpacity}}})),j=(0,l.Ay)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})((e=>{let{theme:t}=e;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),y=s.forwardRef((function(e,t){const a=(0,c.b)({props:e,name:"MuiCardActionArea"}),{children:s,className:l,focusVisibleClassName:d}=a,A=(0,o.A)(a,m),h=a,p=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"],focusHighlight:["focusHighlight"]},u,t)})(h);return(0,g.jsxs)(x,(0,n.A)({className:(0,r.A)(p.root,l),focusVisibleClassName:(0,r.A)(d,p.focusVisible),ref:t,ownerState:h},A,{children:[s,(0,g.jsx)(j,{className:p.focusHighlight,ownerState:h})]}))}))},26072:(e,t,a)=>{var n=a(24994);t.A=void 0;var o=n(a(40039)),s=a(70579);t.A=(0,o.default)((0,s.jsx)("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v2h12v-2l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 13H4V5h16z"}),"Monitor")},28994:(e,t,a)=>{var n=a(24994);t.A=void 0;var o=n(a(40039)),s=a(70579);t.A=(0,o.default)((0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment")},43228:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var n=a(89379),o=a(65043),s=a(96446),r=a(81637),i=a(67254),c=a(85865),l=a(11906),d=a(12110),A=a(26494),u=a(79650),h=a(63336),p=a(71806),g=a(84882),m=a(28076),x=a(10039),j=a(73460),y=a(43845),f=a(17392),v=a(90035),b=a(26600),S=a(35316),C=a(68903),w=a(53193),P=a(79190),D=a(72221),I=a(32143),R=a(15795),T=a(74605),k=a(51962),F=a(29347),M=a(73158),L=a(73216),E=a(22505),N=a(95540),z=a(63471),H=a(3044),_=a(47260),U=(a(37660),a(63777)),W=a(94505),V=a(45360),O=a(88027),G=a(43381),B=a(70579);const q=["AGH","Aztech Services","Capstone","Crown Asbestos Removals","Empire Contracting","Glade Group","IAR","Jesco","Ozbestos","Spec Services"],J=()=>{const e=U.LU,t=(0,L.Zp)(),[a,J]=(0,o.useState)([]),[Z,Y]=(0,o.useState)([]),[K,$]=(0,o.useState)([]),[Q,X]=(0,o.useState)(!0),[ee,te]=(0,o.useState)(null),[ae,ne]=(0,o.useState)(!1),[oe,se]=(0,o.useState)(null),[re,ie]=(0,o.useState)(!1),[ce,le]=(0,o.useState)({open:!1,message:"",severity:"success"}),[de,Ae]=(0,o.useState)({projectId:"",clearanceDate:"",clearanceType:"Non-friable",LAA:"",asbestosRemovalist:"",airMonitoring:!1,airMonitoringReport:null,jobSpecificExclusions:"",notes:""});(0,o.useEffect)((()=>{ue()}),[]);const ue=async()=>{try{X(!0);const[e,t,a]=await Promise.all([V.A.getAll(),W.projectService.getAll({limit:1e3,status:"Assigned,In progress,Samples submitted,Lab Analysis Complete,Report sent for review,Ready for invoicing,Invoice sent"}),W.Dv.getAll()]);console.log("Clearances API response:",e),console.log("Projects API response:",t),console.log("Projects API response type:",typeof t),console.log("Projects API response keys:",t?Object.keys(t):"null/undefined"),console.log("Users API response:",a),J(e.clearances||e.data||e||[]);let n=[];t&&(t.data&&Array.isArray(t.data)?n=t.data:Array.isArray(t)?n=t:t.data&&t.data.data&&Array.isArray(t.data.data)&&(n=t.data.data)),console.log("Projects array:",n),console.log("Projects array length:",n.length),console.log("First project (if any):",n[0]),Y(n);const o=(a.data||a).filter((e=>e.isActive));$(o)}catch(e){console.error("Error fetching data:",e),te("Failed to load data")}finally{X(!1)}},he=()=>{Ae({projectId:"",clearanceDate:"",clearanceType:"Non-friable",LAA:"",asbestosRemovalist:"",airMonitoring:!1,airMonitoringReport:null,jobSpecificExclusions:"",notes:""})},pe=e=>{switch(e){case"complete":return"success";case"in progress":return"warning";case"Site Work Complete":return"info";default:return"default"}},ge=e=>{if(!Array.isArray(Z))return console.warn("Projects is not an array:",Z),"Unknown Project";const t=(null===e||void 0===e?void 0:e._id)||e,a=Z.find((e=>e._id===t));return a?a.projectID:"Unknown Project"},me=e=>{if(!Array.isArray(Z))return console.warn("Projects is not an array:",Z),"Unknown Project";const t=(null===e||void 0===e?void 0:e._id)||e,a=Z.find((e=>e._id===t));return a?a.name:"Unknown Project"};return Q?(0,B.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",children:(0,B.jsx)(r.A,{})}):ee?(0,B.jsx)(s.A,{m:"20px",children:(0,B.jsx)(i.A,{severity:"error",children:ee})}):(0,B.jsx)(O.A,{requiredPermissions:["asbestos.view"],children:(0,B.jsxs)(s.A,{m:"20px",children:[(0,B.jsxs)(s.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,B.jsx)(c.A,{variant:"h4",color:e.grey[500],fontWeight:"bold",sx:{mb:"5px"},children:"Asbestos Clearances"}),(0,B.jsx)(l.A,{variant:"contained",color:"secondary",onClick:()=>{se(null),he(),ne(!0)},startIcon:(0,B.jsx)(E.A,{}),children:"Add Clearance"})]}),(0,B.jsx)(d.A,{sx:{mt:3},children:(0,B.jsx)(A.A,{children:Q?(0,B.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",children:(0,B.jsx)(r.A,{})}):(0,B.jsx)(u.A,{component:h.A,children:(0,B.jsxs)(p.A,{children:[(0,B.jsx)(g.A,{children:(0,B.jsxs)(m.A,{children:[(0,B.jsx)(x.A,{children:"Project ID"}),(0,B.jsx)(x.A,{children:"Clearance Date"}),(0,B.jsx)(x.A,{children:"Project Name"}),(0,B.jsx)(x.A,{children:"Type"}),(0,B.jsx)(x.A,{children:"Air Monitoring"}),(0,B.jsx)(x.A,{children:"Status"}),(0,B.jsx)(x.A,{children:"Actions"})]})}),(0,B.jsx)(j.A,{children:Array.isArray(a)&&(a||[]).map((e=>(0,B.jsxs)(m.A,{children:[(0,B.jsx)(x.A,{children:ge(e.projectId)}),(0,B.jsx)(x.A,{children:e.clearanceDate?new Date(e.clearanceDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}),(0,B.jsx)(x.A,{children:me(e.projectId)}),(0,B.jsx)(x.A,{children:e.clearanceType}),(0,B.jsx)(x.A,{children:(0,B.jsx)(y.A,{label:e.airMonitoring?"Yes":"No",color:e.airMonitoring?"success":"default",size:"small"})}),(0,B.jsx)(x.A,{children:(0,B.jsx)(y.A,{label:e.status,color:pe(e.status),size:"small"})}),(0,B.jsxs)(x.A,{children:[(0,B.jsx)(f.A,{onClick:()=>(e=>{t("/clearances/".concat(e._id,"/items"))})(e),color:"info",size:"small",title:"View Items",children:(0,B.jsx)(_.A,{})}),(0,B.jsx)(f.A,{onClick:()=>(e=>{se(e),Ae({projectId:e.projectId._id||e.projectId,clearanceDate:e.clearanceDate?new Date(e.clearanceDate).toISOString().split("T")[0]:"",clearanceType:e.clearanceType,LAA:e.LAA,asbestosRemovalist:e.asbestosRemovalist,airMonitoring:e.airMonitoring||!1,airMonitoringReport:e.airMonitoringReport||null,jobSpecificExclusions:e.jobSpecificExclusions||"",notes:e.notes||""}),ne(!0)})(e),color:"primary",size:"small",title:"Edit",children:(0,B.jsx)(N.A,{})}),(0,B.jsx)(f.A,{onClick:()=>(async e=>{try{console.log("handleGeneratePDF called with clearance:",e),ie(!0),console.log("Fetching full clearance data...");const t=await V.A.getById(e._id);console.log("Full clearance data:",t),console.log("Calling generateHTMLTemplatePDF...");const a=await(0,G.generateHTMLTemplatePDF)("asbestos-clearance",t);console.log("PDF generation completed, fileName:",a),le({open:!0,message:"PDF generated successfully: ".concat(a),severity:"success"})}catch(t){console.error("Error generating PDF:",t),le({open:!0,message:"Failed to generate PDF",severity:"error"})}finally{console.log("Setting generatingPDF to false"),ie(!1)}})(e),color:"secondary",size:"small",disabled:re,title:"Generate PDF",children:(0,B.jsx)(H.A,{})}),(0,B.jsx)(f.A,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this clearance?"))try{await V.A.delete(e._id),le({open:!0,message:"Clearance deleted successfully",severity:"success"}),ue()}catch(t){console.error("Error deleting clearance:",t),le({open:!0,message:"Failed to delete clearance",severity:"error"})}})(e),color:"error",size:"small",title:"Delete",children:(0,B.jsx)(z.A,{})})]})]},e._id)))})]})})})}),(0,B.jsxs)(v.A,{open:ae,onClose:()=>ne(!1),maxWidth:"md",fullWidth:!0,children:[(0,B.jsx)(b.A,{children:oe?"Edit Clearance":"Add New Clearance"}),(0,B.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{oe?(await V.A.update(oe._id,de),le({open:!0,message:"Clearance updated successfully",severity:"success"})):(await V.A.create(de),le({open:!0,message:"Clearance created successfully",severity:"success"})),ne(!1),se(null),he(),ue()}catch(t){console.error("Error saving clearance:",t),le({open:!0,message:"Failed to save clearance",severity:"error"})}},children:[(0,B.jsx)(S.A,{children:(0,B.jsxs)(C.Ay,{container:!0,spacing:2,children:[(0,B.jsx)(C.Ay,{item:!0,xs:12,children:(0,B.jsxs)(w.A,{fullWidth:!0,required:!0,children:[(0,B.jsx)(P.A,{children:"Project"}),(0,B.jsx)(D.A,{value:de.projectId,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{projectId:e.target.value})),label:"Project",children:(Z||[]).length>0?(Z||[]).map((e=>(0,B.jsxs)(I.A,{value:e._id,children:[e.projectID,": ",e.name]},e._id))):(0,B.jsx)(I.A,{disabled:!0,children:"No projects available"})})]})}),(0,B.jsx)(C.Ay,{item:!0,xs:12,md:6,children:(0,B.jsx)(R.A,{fullWidth:!0,type:"date",label:"Clearance Date",value:de.clearanceDate,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{clearanceDate:e.target.value})),required:!0,InputLabelProps:{shrink:!0}})}),(0,B.jsx)(C.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(w.A,{fullWidth:!0,required:!0,children:[(0,B.jsx)(P.A,{children:"Clearance Type"}),(0,B.jsxs)(D.A,{value:de.clearanceType,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{clearanceType:e.target.value})),label:"Clearance Type",children:[(0,B.jsx)(I.A,{value:"Non-friable",children:"Non-friable"}),(0,B.jsx)(I.A,{value:"Friable",children:"Friable"})]})]})}),(0,B.jsx)(C.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(w.A,{fullWidth:!0,required:!0,children:[(0,B.jsx)(P.A,{children:"LAA"}),(0,B.jsx)(D.A,{value:de.LAA,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{LAA:e.target.value})),label:"LAA",children:(K||[]).map((e=>(0,B.jsxs)(I.A,{value:"".concat(e.firstName," ").concat(e.lastName),children:[e.firstName," ",e.lastName]},e._id)))})]})}),(0,B.jsx)(C.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(w.A,{fullWidth:!0,required:!0,children:[(0,B.jsx)(P.A,{children:"Asbestos Removalist"}),(0,B.jsx)(D.A,{value:de.asbestosRemovalist,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{asbestosRemovalist:e.target.value})),label:"Asbestos Removalist",children:q.map((e=>(0,B.jsx)(I.A,{value:e,children:e},e)))})]})}),(0,B.jsx)(C.Ay,{item:!0,xs:12,children:(0,B.jsx)(T.A,{control:(0,B.jsx)(k.A,{checked:de.airMonitoring,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{airMonitoring:e.target.checked})),color:"primary"}),label:"Include Air Monitoring Report"})}),de.airMonitoring&&(0,B.jsxs)(C.Ay,{item:!0,xs:12,children:[(0,B.jsx)("input",{accept:".pdf",style:{display:"none"},id:"air-monitoring-report-upload",type:"file",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{const t=e.target.result.split(",")[1];Ae((0,n.A)((0,n.A)({},de),{},{airMonitoringReport:t}))},e.readAsDataURL(t)}}}),(0,B.jsx)("label",{htmlFor:"air-monitoring-report-upload",children:(0,B.jsx)(l.A,{variant:"outlined",component:"span",startIcon:(0,B.jsx)(H.A,{}),children:"Upload Air Monitoring Report (PDF)"})}),de.airMonitoringReport&&(0,B.jsx)(c.A,{variant:"body2",color:"success.main",sx:{mt:1},children:"\u2713 Report uploaded successfully"})]}),(0,B.jsx)(C.Ay,{item:!0,xs:12,children:(0,B.jsx)(R.A,{fullWidth:!0,label:"Job Specific Exclusions",value:de.jobSpecificExclusions,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{jobSpecificExclusions:e.target.value})),multiline:!0,rows:3})}),(0,B.jsx)(C.Ay,{item:!0,xs:12,children:(0,B.jsx)(R.A,{fullWidth:!0,label:"Notes",value:de.notes,onChange:e=>Ae((0,n.A)((0,n.A)({},de),{},{notes:e.target.value})),multiline:!0,rows:3})})]})}),(0,B.jsxs)(F.A,{children:[(0,B.jsx)(l.A,{onClick:()=>ne(!1),children:"Cancel"}),(0,B.jsx)(l.A,{type:"submit",variant:"contained",children:oe?"Update":"Create"})]})]})]}),(0,B.jsx)(M.A,{open:ce.open,autoHideDuration:6e3,onClose:()=>le((0,n.A)((0,n.A)({},ce),{},{open:!1})),children:(0,B.jsx)(i.A,{onClose:()=>le((0,n.A)((0,n.A)({},ce),{},{open:!1})),severity:ce.severity,children:ce.message})})]})})}},43381:(e,t,a)=>{a.r(t),a.d(t,{generateHTMLPDF:()=>s,generateHTMLTemplatePDF:()=>r,generateTemplatePDF:()=>o});var n=a(37762);a(65239);const o=async(e,t,a)=>{const o=new n.default,s=o.internal.pageSize.getWidth(),r=o.internal.pageSize.getHeight(),i=20,c=s-40;let l=i;const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;if(!e)return l;o.setFontSize(t),o.setFont("helvetica",a);const s=o.splitTextToSize(e,c);return o.text(e,i,l,{maxWidth:c}),l+=s.length*t*1.2+n,l},A=function(e){return d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bold",12)};l=A(a(e.standardSections.frontCoverTitle||"Non-friable Asbestos Removal Clearance"),16,"bold"),l=d(a(e.standardSections.frontCoverSubtitle||""),12,"normal",20),l+=10,e.companyDetails&&(l=A("Company Details",12,"bold"),Object.entries(e.companyDetails).forEach((e=>{let[t,a]=e;const n=t.charAt(0).toUpperCase()+t.slice(1).replace(/([A-Z])/g," $1");l=d("".concat(n,": ").concat(a),10,"normal",4)})),l+=10),l=A(a(e.standardSections.inspectionDetailsTitle||"Inspection Details"),12,"bold"),l=d(a(e.standardSections.inspectionIntroduction||""),10,"normal",8),l=d(a(e.standardSections.inspectionSpecifics||""),10,"normal",8),l=d(a(e.standardSections.tableIntroduction||""),10,"normal",8),l=d("Sample Inspection Results:",10,"bold",4);[["Area","Material Type","Condition","Result"],["Kitchen","Vinyl Floor Tiles","Good","Pass"],["Bathroom","Vinyl Floor Tiles","Good","Pass"],["Living Room","Vinyl Floor Tiles","Good","Pass"]].forEach(((e,t)=>{const a=0===t,n=a?"bold":"normal",s=a?10:9,r=[40,50,40,30];let c=i;e.forEach(((e,t)=>{o.setFontSize(s),o.setFont("helvetica",n),o.text(e,c,l,{maxWidth:r[t]}),c+=r[t]+5})),l+=1.2*s+2})),l+=10,l>r-100&&(o.addPage(),l=i),l=A(a(e.standardSections.clearanceCertificationTitle||"Clearance Certification"),12,"bold"),l=d(a(e.standardSections.clearanceCertificationText||""),10,"normal",8),l=d(a(e.standardSections.riskAssessmentText||""),10,"normal",8),l=d(a(e.standardSections.contactText||""),10,"normal",8),l=d(a(e.standardSections.behalfText||""),10,"normal",8),l=d(a(e.standardSections.signatureTitle||""),10,"bold",8),l>r-100&&(o.addPage(),l=i),l=A(a(e.standardSections.backgroundTitle||"Background Information"),12,"bold"),l=d(a(e.standardSections.backgroundIntroduction||""),10,"normal",8),l=d("\u2022 ".concat(a(e.standardSections.bulletPoint1||"")),10,"normal",4),l=d("\u2022 ".concat(a(e.standardSections.bulletPoint2||"")),10,"normal",4),l=d(a(e.standardSections.requirementsText||""),10,"normal",8),l=d("\u2022 ".concat(a(e.standardSections.bulletPoint3||"")),10,"normal",4),l=d("\u2022 ".concat(a(e.standardSections.bulletPoint4||"")),10,"normal",4),l=d("\u2022 ".concat(a(e.standardSections.bulletPoint5||"")),10,"normal",4),l>r-100&&(o.addPage(),l=i),l=A(a(e.standardSections.legislativeTitle||"Legislative Requirements"),12,"bold"),l=d(a(e.standardSections.legislativeIntroduction||""),10,"normal",8),l=d("\u2022 ".concat(a(e.standardSections.legislativePoint1||"")),10,"normal",4),l=d("\u2022 ".concat(a(e.standardSections.legislativePoint2||"")),10,"normal",4),l=d("\u2022 ".concat(a(e.standardSections.legislativePoint3||"")),10,"normal",4),l=A(a(e.standardSections.limitationsTitle||"Limitations"),12,"bold"),l=d(a(e.standardSections.limitationsText||""),10,"normal",8),l>r-150&&(o.addPage(),l=i),l=A("Authorised Signature",12,"bold"),l+=20,o.setLineWidth(.5),o.line(i,l,100,l),l+=5,l=d("Name: John Smith",10,"normal",4),l=d("License: AI000456",10,"normal",4),l=d("Date: 25 July 2024",10,"normal",4),l+=20,l=d(a(e.standardSections.footerText||""),9,"normal",8);const u="asbestos-clearance-template-preview-".concat((new Date).toISOString().split("T")[0],".pdf");return o.save(u),u},s=async(e,t)=>r(e,t),r=async(e,t)=>{try{var a;console.log("Starting server-side PDF generation with data:",t);const e="".concat("https://landd-app-backend1.onrender.com/api","/pdf/generate-asbestos-clearance?t=").concat(Date.now());console.log("Calling backend URL:",e);const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")),"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},body:JSON.stringify({clearanceData:t})});if(console.log("Response status:",n.status),console.log("Response headers:",Object.fromEntries(n.headers.entries())),!n.ok){const e=await n.json();throw new Error(e.error||"Failed to generate PDF")}const o=await n.blob();console.log("PDF blob size:",o.size,"bytes");const s=window.URL.createObjectURL(o),r=document.createElement("a");r.href=s;const i="asbestos-clearance-".concat((null===(a=t.projectId)||void 0===a?void 0:a.name)||"report","-").concat((new Date).toISOString().split("T")[0],".pdf");return r.download=i,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s),console.log("PDF generation completed successfully:",i),i}catch(n){throw console.error("Error generating HTML template PDF:",n),console.error("Error stack:",n.stack),n}}},45360:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(89379),o=a(82431);const s="/asbestos-clearances",r={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await o.A.get(s,{params:e})).data},getById:async e=>(await o.A.get("".concat(s,"/").concat(e))).data,create:async e=>(await o.A.post(s,e)).data,update:async(e,t)=>(await o.A.put("".concat(s,"/").concat(e),t)).data,delete:async e=>(await o.A.delete("".concat(s,"/").concat(e))).data,updateStatus:async(e,t)=>(await o.A.patch("".concat(s,"/").concat(e,"/status"),{status:t})).data,getStats:async()=>(await o.A.get("".concat(s,"/stats/overview"))).data,search:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,n.A)({search:e},t);return(await o.A.get(s,{params:a})).data},getByStatus:async e=>(await o.A.get(s,{params:{status:e}})).data,getByRemovalist:async e=>(await o.A.get(s,{params:{asbestosRemovalist:e}})).data,uploadAirMonitoringReport:async(e,t)=>(await o.A.post("".concat(s,"/").concat(e,"/air-monitoring-report"),t)).data,getItems:async e=>(await o.A.get("".concat(s,"/").concat(e,"/items"))).data,addItem:async(e,t)=>(await o.A.post("".concat(s,"/").concat(e,"/items"),t)).data,updateItem:async(e,t,a)=>(await o.A.put("".concat(s,"/").concat(e,"/items/").concat(t),a)).data,deleteItem:async(e,t)=>(await o.A.delete("".concat(s,"/").concat(e,"/items/").concat(t))).data,getAirMonitoringReports:async e=>(await o.A.get("".concat(s,"/air-monitoring-reports/").concat(e))).data}},47200:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(89379),o=a(65043),s=a(37660),r=a(12110),i=a(2828),c=a(26494),l=a(96446),d=a(85865),A=a(68903),u=a(73216),h=a(26072),p=a(28994),g=a(63777),m=a(26240),x=a(39284),j=a(43228),y=a(70579);const f=e=>{let{title:t,icon:a,color:s="primary",onClick:A,active:u}=e;return(0,y.jsx)(r.A,{sx:(0,n.A)({height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},u&&{backgroundColor:"".concat(s,".light"),border:"2px solid ".concat(s,".main")}),children:(0,y.jsx)(i.A,{onClick:A,sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,y.jsxs)(c.A,{sx:{flexGrow:1,textAlign:"center",p:3},children:[(0,y.jsx)(l.A,{sx:{mb:2,display:"flex",justifyContent:"center"},children:o.cloneElement(a,{sx:{fontSize:48,color:"".concat(s,".main")}})}),(0,y.jsx)(d.A,{variant:"h6",component:"h2",gutterBottom:!0,children:t})]})})})},v=()=>{(0,m.A)(),g.LU,(0,u.Zp)();const[e,t]=(0,o.useState)(null),a=[{title:"Air Monitoring",icon:(0,y.jsx)(h.A,{}),color:"primary",onClick:()=>t("air-monitoring")},{title:"Clearances",icon:(0,y.jsx)(p.A,{}),color:"secondary",onClick:()=>t("clearances")}];return(0,y.jsxs)(l.A,{sx:{p:3},children:[(0,y.jsx)(s.A,{title:"Asbestos Removal Jobs"}),(0,y.jsx)(A.Ay,{container:!0,spacing:3,children:a.map(((t,a)=>(0,y.jsx)(A.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(f,(0,n.A)((0,n.A)({},t),{},{active:e===("Air Monitoring"===t.title?"air-monitoring":"clearances")}))},a)))}),"air-monitoring"===e&&(0,y.jsx)(x.A,{}),"clearances"===e&&(0,y.jsx)(j.default,{})]})}}}]);
//# sourceMappingURL=200.9f3f24a0.chunk.js.map